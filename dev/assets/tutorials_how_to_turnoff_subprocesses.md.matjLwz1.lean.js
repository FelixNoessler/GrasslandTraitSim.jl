import{_ as a,c as i,a5 as n,o as p}from"./chunks/framework.yAaFKXZY.js";const t="/FelixNoessler.github.io/GrasslandTraitSim.jl/dev/assets/yqdsayl.ZceRrZkM.png",g=JSON.parse('{"title":"How to turn-off subprocesses of the model","description":"","frontmatter":{},"headers":[],"relativePath":"tutorials/how_to_turnoff_subprocesses.md","filePath":"tutorials/how_to_turnoff_subprocesses.md","lastUpdated":null}'),l={name:"tutorials/how_to_turnoff_subprocesses.md"};function e(h,s,k,r,d,o){return p(),i("div",null,s[0]||(s[0]=[n(`<h1 id="How-to-turn-off-subprocesses-of-the-model" tabindex="-1">How to turn-off subprocesses of the model <a class="header-anchor" href="#How-to-turn-off-subprocesses-of-the-model" aria-label="Permalink to &quot;How to turn-off subprocesses of the model {#How-to-turn-off-subprocesses-of-the-model}&quot;">​</a></h1><p>Mainly for debugging purposes, it is possible to turn off subprocesses of the model. This can be useful to understand the effect of a single subprocess on the model output.</p><p>Load packages:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GrasslandTraitSim </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sim</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CairoMakie</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Unitful</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Statistics</span></span></code></pre></div><p>All the subprocesses that can be turned off are listed here:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sim</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">create_included</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>(senescence = true, senescence_season = true, senescence_sla = true, potential_growth = true, mowing = true, grazing = true, lowbiomass_avoidance = true, belowground_competition = true, community_self_shading = true, height_competition = true, sla_transpiration = true, water_growth_reduction = true, nutrient_growth_reduction = true, root_invest = true, temperature_growth_reduction = true, seasonal_growth_adjustment = true, radiation_growth_reduction = true)</span></span></code></pre></div><p>We have to write all the processes that we want to turn off in the <code>included</code> named tuple. By default, all other processes are included. Here we want to exclude the potential growth of the species. The named tuple looks as follows:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">included </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    potential_growth </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">trait_input </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sim</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">input_traits</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">input_obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sim</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">validation_input</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(; included, plotID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;HEG01&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, nspecies </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(trait_input</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">amc));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sim</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SimulationParameter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌───────────────────────┬──────────────────┐</span></span>
<span class="line"><span>│             Parameter │ Value            │</span></span>
<span class="line"><span>├───────────────────────┼──────────────────┤</span></span>
<span class="line"><span>│                 ϕ_rsa │ 0.07 m^2 g^-1    │</span></span>
<span class="line"><span>│                 ϕ_amc │ 0.2              │</span></span>
<span class="line"><span>│                 ϕ_sla │ 0.009 m^2 g^-1   │</span></span>
<span class="line"><span>│               RUE_max │ 0.003 kg MJ^-1   │</span></span>
<span class="line"><span>│                     k │ 0.6              │</span></span>
<span class="line"><span>│ self_shading_severity │ 0.75             │</span></span>
<span class="line"><span>│              β_height │ 0.5              │</span></span>
<span class="line"><span>│             α_wrsa_05 │ 0.9              │</span></span>
<span class="line"><span>│                β_wrsa │ 7.0              │</span></span>
<span class="line"><span>│                δ_wrsa │ 20.0 g m^-2      │</span></span>
<span class="line"><span>│                 N_max │ 35.0 g kg^-1     │</span></span>
<span class="line"><span>│               TSB_max │ 40000.0 kg ha^-1 │</span></span>
<span class="line"><span>│          TS_influence │ 1.0              │</span></span>
<span class="line"><span>│            nutadj_max │ 4.0              │</span></span>
<span class="line"><span>│             α_namc_05 │ 0.95             │</span></span>
<span class="line"><span>│             α_nrsa_05 │ 0.95             │</span></span>
<span class="line"><span>│                β_nrsa │ 15.0             │</span></span>
<span class="line"><span>│                β_namc │ 15.0             │</span></span>
<span class="line"><span>│                δ_nrsa │ 20.0 g m^-2      │</span></span>
<span class="line"><span>│                δ_namc │ 10.0             │</span></span>
<span class="line"><span>│          κ_maxred_amc │ 0.02             │</span></span>
<span class="line"><span>│         κ_maxred_srsa │ 0.01             │</span></span>
<span class="line"><span>│                    γ₁ │ 4.45e-6 ha MJ^-1 │</span></span>
<span class="line"><span>│                    γ₂ │ 50000.0 MJ ha^-1 │</span></span>
<span class="line"><span>│                    T₀ │ 4.0 °C           │</span></span>
<span class="line"><span>│                    T₁ │ 10.0 °C          │</span></span>
<span class="line"><span>│                    T₂ │ 20.0 °C          │</span></span>
<span class="line"><span>│                    T₃ │ 35.0 °C          │</span></span>
<span class="line"><span>│                   ST₁ │ 775.0 °C         │</span></span>
<span class="line"><span>│                   ST₂ │ 1450.0 °C        │</span></span>
<span class="line"><span>│               SEA_min │ 0.7              │</span></span>
<span class="line"><span>│               SEA_max │ 1.3              │</span></span>
<span class="line"><span>│           α_sen_month │ 0.001            │</span></span>
<span class="line"><span>│             β_sen_sla │ 0.3              │</span></span>
<span class="line"><span>│                    Ψ₁ │ 775.0 °C         │</span></span>
<span class="line"><span>│                    Ψ₂ │ 3000.0 °C        │</span></span>
<span class="line"><span>│               SEN_max │ 3.0              │</span></span>
<span class="line"><span>│             β_PAL_lnc │ 1.2              │</span></span>
<span class="line"><span>│          β_height_GRZ │ 2.0              │</span></span>
<span class="line"><span>│                 η_GRZ │ 2.0              │</span></span>
<span class="line"><span>│                     κ │ 22.0 kg          │</span></span>
<span class="line"><span>│      fast_height_gain │ 1.0              │</span></span>
<span class="line"><span>│              β_TR_sla │ 0.4              │</span></span>
<span class="line"><span>└───────────────────────┴──────────────────┘</span></span></code></pre></div><p>Run the simulation and let&#39;s visualize the biomass dynamic without potential growth:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sol </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sim</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">solve_prob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(; input_obj, p, trait_input);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">species_biomass </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dropdims</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">output</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">biomass; dims </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); dims </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">total_biomass </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(species_biomass; dims </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :species</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fig, _ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> lines</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">simp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">output_date_num, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ustrip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.(total_biomass), color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :darkgreen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, linewidth </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      axis </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (; ylabel </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Aboveground dry biomass [kg ha⁻¹]&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                xlabel </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Date [year]&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fig</span></span></code></pre></div><p><img src="`+t+'" alt=""></p>',13)]))}const c=a(l,[["render",e]]);export{g as __pageData,c as default};
