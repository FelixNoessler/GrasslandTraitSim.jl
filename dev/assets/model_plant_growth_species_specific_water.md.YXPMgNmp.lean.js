import{s as i,l as $}from"./chunks/transform.Deh2Sj5S.js";import{l as m,f as F}from"./chunks/linear.BlmCC_Hi.js";import{s as L,v as N}from"./chunks/viridis.D8ZsG2gh.js";import{a as V,b as q,c as M}from"./chunks/axis.rlX7cRMw.js";import{s as z}from"./chunks/selectAll.BgQ1A9PC.js";import{v as O,c as I,j as c,a as _,b as K,w as R,a6 as J,a5 as A,G as k,B as S,o as B}from"./chunks/framework.DUg_Vbhg.js";import"./chunks/init.BFKUnIhM.js";import"./chunks/colors.Cc3OSVma.js";function U(){let d=7,p=20,t=.15,o=.9;const f=[.05,.1,.15,.2,.25],w=600,x=400,l={top:20,right:110,bottom:50,left:70},n=w-l.left-l.right,r=x-l.top-l.bottom,a=i("#water_stress_graph").attr("width",w).attr("height",x).append("g").attr("transform",`translate(${l.left},${l.top})`),g=m().domain([0,1]).range([0,n]),b=m().domain([0,1]).range([r,0]),v=L(N).domain([.05,.25]),P=V(g),W=q(b);a.append("g").attr("transform",`translate(0,${r})`).call(P).append("text").attr("class","axis-label").attr("x",n/2).attr("y",40).attr("fill","#000").text("Plant available soil water (W_sc) [-]"),a.append("g").call(W).append("text").attr("class","axis-label").attr("transform","rotate(-90)").attr("x",-r/2).attr("y",-40).attr("fill","#000").attr("text-anchor","middle").text("Water growth reducer based on RSA (W_rsa) [-]");const j=$().x(e=>g(e.R)).y(e=>b(e.Reducer));function H(){d=+i("#β_R").property("value"),p=+i("#δ_R").property("value"),o=+i("#ɑ_R_05").property("value"),i("#β_R-value").text(d),i("#δ_R-value").text(p),i("#ɑ_R_05-value").text(o),y()}function E(e,h){const s=1/d*(-p*(h-(1/p*Math.log((1-o)/o)+t)))+.5;return 1/(1+Math.exp(-d*(e-s)))}function y(){a.selectAll(".line").remove(),a.selectAll(".dot").remove(),f.forEach(e=>{const h=[];for(let s=0;s<=1;s+=.01)h.push({R:s,Reducer:E(s,e)});a.append("path").datum(h).attr("class","line").attr("fill","none").attr("stroke",v(e)).attr("stroke-width",1.5).attr("d",j)}),a.append("circle").attr("class","dot").attr("cx",g(.5)).attr("cy",b(o)).attr("r",3).attr("fill","red")}function D(){const s=m().domain([0,300]).range([.05,.25]);if(a.selectAll(".colorbar").empty()){const C=a.append("defs").append("linearGradient").attr("id","linear-gradient").attr("x1","0%").attr("y1","100%").attr("x2","0%").attr("y2","0%");for(let u=0;u<=300;u++)C.append("stop").attr("offset",`${u/300*100}%`).attr("stop-color",v(s(u)));a.append("rect").attr("x",n+10).attr("y",(r-300)/2).attr("width",20).attr("height",300).style("fill","url(#linear-gradient)").attr("class","colorbar");const G=m().domain([.05,.25]).range([(r-300)/2+300,(r-300)/2]),T=M(G).ticks(5).tickFormat(F(".3f"));a.append("g").attr("transform",`translate(${n+10+20}, 0)`).attr("class","colorbar-axis").call(T),a.append("text").attr("x",n+10+20+10).attr("y",(r-300)/2+300/3).attr("fill","#000").text("Root surface area per total biomass [m² g⁻¹]").attr("class","colorbar-label").attr("text-anchor","middle").attr("transform",`rotate(90, ${n+10+20+10}, ${(r-300)/2+300/2})`)}}D(),y(),z(".input_water_stress_graph").on("input",H)}const Q={class:"jldocstring custom-block",open:""},lt=JSON.parse('{"title":"Species-specific growth adjustment - Soil water","description":"","frontmatter":{},"headers":[],"relativePath":"model/plant/growth_species_specific_water.md","filePath":"model/plant/growth_species_specific_water.md","lastUpdated":null}'),X={name:"model/plant/growth_species_specific_water.md"},nt=Object.assign(X,{setup(d){return O(()=>{U()}),(p,t)=>{const o=S("Mermaid"),f=S("Badge");return B(),I("div",null,[t[4]||(t[4]=c("h1",{id:"Species-specific-growth-adjustment-Soil-water",tabindex:"-1"},[_("Species-specific growth adjustment - Soil water "),c("a",{class:"header-anchor",href:"#Species-specific-growth-adjustment-Soil-water","aria-label":'Permalink to "Species-specific growth adjustment - Soil water {#Species-specific-growth-adjustment-Soil-water}"'},"​")],-1)),(B(),K(J,null,{default:R(()=>[k(o,{id:"mermaid-4",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20W%5B%E2%86%93%20water%20stress%5D%20%0A%20%20%20%20A%5B%22soil%20water%20content%20W%20%5Bmm%5D%22%5D%0A%20%20%20%20K%5B%22water%20holding%20capacity%20WHC%20%5Bmm%5D%22%5D%0A%20%20%20%20L%5B%22permanent%20wilting%20point%20PWP%20%5Bmm%5D%22%5D%0A%20%20%20%20P%5B%22scaled%20soil%20water%20content%20Wsc%20%5B-%5D%22%5D%0A%20%20%20%20R%5Btrait%3A%20root%20surface%20area%20%2F%5Cn%20belowground%20biomass%5D%0A%0A%20%20%20%20A%20--%3E%20P%0A%20%20%20%20K%20--%3E%20P%0A%20%20%20%20L%20--%3E%20P%0A%20%20%20%20P%20--%3E%20W%0A%20%20%20%20R%20---%3E%20W%3B%0A"})]),fallback:R(()=>t[0]||(t[0]=[_(" Loading... ")])),_:1})),t[5]||(t[5]=A('<p>The species differ in their response to water stress by the different trait values of the specific leaf area and the root surface areas per above ground biomass. The values of both response functions are multiplied to get factor that reduces the growth.</p><h2 id="visualization" tabindex="-1">Visualization <a class="header-anchor" href="#visualization" aria-label="Permalink to &quot;Visualization&quot;">​</a></h2><table><colgroup><col><col width="80px"><col></colgroup><tbody><tr><td>mean response at \\(W_{sc} = 0.5\\) \\(\\;\\alpha_{wrsa,05}\\;\\)<br>see red dot (strong to weak growth reduction)</td><td><span id="ɑ_R_05-value">0.9</span></td><td><input type="range" id="ɑ_R_05" min="0.1" max="0.999" step="0.001" value="0.9" class="input_water_stress_graph"></td></tr><tr><td>difference between species \\(\\;\\delta_{wrsa}\\;\\) <br>(no to strong difference)</td><td><span id="δ_R-value">10</span></td><td><input type="range" id="δ_R" min="0.1" max="25.0" step="0.1" value="10" class="input_water_stress_graph"></td></tr><tr><td>slope of response \\(\\beta_{wrsa}\\)</td><td><span id="β_R-value">7</span></td><td><input type="range" id="β_R" min="3" max="10" step="0.1" value="7" class="input_water_stress_graph"></td></tr></tbody></table><p><svg id="water_stress_graph"></svg></p><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h2>',5)),c("details",Q,[c("summary",null,[t[1]||(t[1]=c("a",{id:"GrasslandTraitSim.water_reduction!",href:"#GrasslandTraitSim.water_reduction!"},[c("span",{class:"jlbinding"},"GrasslandTraitSim.water_reduction!")],-1)),t[2]||(t[2]=_()),k(f,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),t[3]||(t[3]=A('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">water_reduction!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(; container, W, PWP, WHC)</span></span></code></pre></div><p>Reduction of growth based on the plant available water and the traits specific leaf area and root surface area per belowground biomass.</p><p>Reduction of growth due to stronger water stress for plants with lower specific root surface area per above ground biomass (<code>srsa</code>).</p><p><a href="https://github.com/FelixNoessler/GrasslandTraitSim.jl/blob/0c4d91497f2d2182b0f3c8c7cc8a96f9ecf06c87/src/3_biomass/1_growth/5_water_competition.jl#L1" target="_blank" rel="noreferrer">source</a></p>',4))])])}}});export{lt as __pageData,nt as default};
